(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{189:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("p",[t._v('JS的原型、原型链一直是比较难理解的内容，不少初学者甚至有一定经验的老鸟都不一定能完全说清楚，更多的"很可能"是一知半解，而这部分内容又是JS的核心内容，想要技术进阶的话肯定不能对这个概念一知半解，碰到问题靠“猜”，却不理解它的规则！')]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),e("p",[t._v("它是ES6的标准，兼容IE9，主流浏览器也都支持，"),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/GetPrototypeOf#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN"),e("OutboundLink")],1),t._v("，本文将以"),e("code",[t._v("Object.getPrototypeOf(target)")]),t._v("指代"),e("code",[t._v("__proto__")]),t._v("。")]),t._v(" "),t._m(20),t._v(" "),e("blockquote",[e("p",[t._v("本段摘自"),e("a",{attrs:{href:"http://es6.ruanyifeng.com/#docs/object-methods#__proto__%E5%B1%9E%E6%80%A7%EF%BC%8CObject-setPrototypeOf%EF%BC%8CObject-getPrototypeOf",target:"_blank",rel:"noopener noreferrer"}},[t._v("阮一峰-ES6入门"),e("OutboundLink")],1),t._v("，具体解析请点击链接查看")])]),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._m(30),t._v(" "),e("p",[t._v("原型类型有个缺点：多个实例对引用类型的操作会被篡改。")]),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),e("p",[t._v("来看个例子：")]),t._v(" "),t._m(33),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),e("p",[t._v("下面是两个验证例子，有疑虑的同学多写几个测试用例印证一下。")]),t._v(" "),t._m(49),t._v(" "),t._m(50),t._m(51),t._v(" "),t._m(52),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),e("p",[t._v("我们用一个例子来形象说明一下：")]),t._v(" "),t._m(56),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),e("p",[t._v("准确的说：")]),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),t._m(66),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._v(" "),e("p",[t._v("你知道构造函数的实例对象上有哪些属性吗？这些属性分别挂载在哪个地方？原因是什么？")]),t._v(" "),t._m(70),t._m(71),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),t._m(84),t._v(" "),t._m(85),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),t._m(88),t._v(" "),t._m(89),t._v(" "),t._m(90),t._v(" "),t._m(91),t._v(" "),t._m(92),t._v(" "),t._m(93),t._m(94),t._v(" "),t._m(95),t._v(" "),t._m(96),t._v(" "),t._m(97),t._v(" "),e("p",[t._v("写了好几天，之前网上很多图文博客，那些线指来指去，就我个人看来还是比较难以理解的，所以本文纯文字的形式来描述这些概念，相信认真看完的同学肯定都有所收获，如果没看懂的话，建议多看几遍，这部分概念真的很重要！")]),t._v(" "),e("p",[t._v("PS：实际上还有很多引申出来的东西没写全，准备放到其他文章中去写。")]),t._v(" "),e("h4",{attrs:{id:"觉得我的博客对你有帮助的话，就给我点个star吧！"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#觉得我的博客对你有帮助的话，就给我点个star吧！"}},[t._v("#")]),t._v(" 觉得我的博客对你有帮助的话，就给我点个"),e("a",{attrs:{href:"https://github.com/OBKoro1/web_accumulate",target:"_blank",rel:"noopener noreferrer"}},[t._v("Star"),e("OutboundLink")],1),t._v("吧！")]),t._v(" "),e("p",[e("a",{attrs:{href:"http://obkoro1.com/web_accumulate/",target:"_blank",rel:"noopener noreferrer"}},[t._v("前端进阶积累"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://user-gold-cdn.xitu.io/2018/5/1/1631b6f52f7e7015?w=344&h=344&f=jpeg&s=8317",target:"_blank",rel:"noopener noreferrer"}},[t._v("公众号"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://github.com/OBKoro1",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),e("OutboundLink")],1),t._v("、wx:OBkoro1、邮箱：obkoro1@foxmail.com")]),t._v(" "),e("p",[t._v("以上2019/8/25")]),t._v(" "),e("p",[t._v("作者："),e("a",{attrs:{href:"https://github.com/OBKoro1",target:"_blank",rel:"noopener noreferrer"}},[t._v("OBKoro1"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("参考资料：")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN:对象原型"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.im/post/58f94c9bb123db411953691b#heading-14",target:"_blank",rel:"noopener noreferrer"}},[t._v("JS原型链与继承别再被问倒了"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/creeperyang/blog/issues/9",target:"_blank",rel:"noopener noreferrer"}},[t._v("从__proto__和prototype来深入理解JS对象和原型链"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"点个star支持我一下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#点个star支持我一下"}},[t._v("#")]),t._v(" 点个"),e("a",{attrs:{href:"https://github.com/OBKoro1/web_accumulate",target:"_blank",rel:"noopener noreferrer"}},[t._v("Star"),e("OutboundLink")],1),t._v("支持我一下~")]),t._v(" "),e("comment-comment")],1)}),[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"js基础-原型、原型链"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js基础-原型、原型链"}},[this._v("#")]),this._v(" JS基础-原型、原型链")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"prototype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prototype"}},[this._v("#")]),this._v(" prototype")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"只有函数有prototype属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#只有函数有prototype属性"}},[this._v("#")]),this._v(" 只有函数有prototype属性")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("b")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { constructor: function(){...} }")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"object-prototype怎么解释？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#object-prototype怎么解释？"}},[this._v("#")]),this._v(" Object.prototype怎么解释？")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("其实"),s("code",[this._v("Object")]),this._v("是一个全局对象，也是一个构造函数，以及其他基本类型的全局对象也都是构造函数：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("outTypeName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" typeName "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("typeName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("outTypeName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//[object Function]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("outTypeName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [object Function]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("outTypeName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Number"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [object Function]")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"为什么只有函数有prototype属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么只有函数有prototype属性"}},[this._v("#")]),this._v(" 为什么只有函数有prototype属性")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("JS通过"),s("code",[this._v("new")]),this._v("来生成对象，但是仅靠构造函数，每次生成的对象都不一样。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("有时候需要在两个对象之间共享属性，由于JS在设计之初没有类的概念，所以JS使用函数的"),s("code",[this._v("prototype")]),this._v("来处理这部分"),s("strong",[this._v("需要被共享的属性")]),this._v("，通过函数的"),s("code",[this._v("prototype")]),this._v("来模拟类：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当创建一个函数时，JS会自动为函数添加"),s("code",[this._v("prototype")]),this._v("属性，值是一个有"),s("code",[this._v("constructor")]),this._v("的对象。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以下是共享属性"),s("code",[this._v("prototype")]),this._v("的栗子：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("People")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("People")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 岁数")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建两个实例")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" People1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("People")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'OBKoro1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" People2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("People")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'扣肉'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("People")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 长大了一岁")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("People1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" People2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 24 24")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("为什么"),s("code",[this._v("People1")]),this._v("和"),s("code",[this._v("People2")]),this._v("可以访问到"),s("code",[this._v("People.prototype.age")])]),this._v("？")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("原因是："),s("code",[this._v("People1")]),this._v("和"),s("code",[this._v("People2")]),this._v("的原型是"),s("code",[this._v("People.prototype")]),this._v("，答案在下方的：构造函数是什么以及它做了什么。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"原型链"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原型链"}},[this._v("#")]),this._v(" 原型链")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"proto-和object-getprototypeof-target-：-对象的原型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proto-和object-getprototypeof-target-：-对象的原型"}},[this._v("#")]),this._v(" "),s("code",[this._v("__proto__")]),this._v("和"),s("code",[this._v("Object.getPrototypeOf(target)")]),this._v("： 对象的原型")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("__proto__")]),this._v("是对象实例和它的构造函数之间建立的链接，它的值是：构造函数的`prototype。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("也就是说："),s("code",[this._v("__proto__")]),this._v("的值是它所对应的原型对象，是某个函数的"),s("code",[this._v("prototype")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("Object.getPrototypeOf(target)")]),this._v("全等于"),s("code",[this._v("__proto__")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"不要再使用-proto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不要再使用-proto"}},[this._v("#")]),this._v(" 不要再使用"),s("code",[this._v("__proto__")]),this._v(":")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ol",[e("li",[e("p",[e("code",[t._v("__proto__")]),t._v("属性没有写入 ES6 的正文，而是写入了附录。")])]),t._v(" "),e("li",[e("p",[t._v("原因是它本质上是一个内部属性，而"),e("strong",[t._v("不是一个正式的对外的 API，只是由于浏览器广泛支持，才被加入了 ES6")]),t._v("。")])]),t._v(" "),e("li",[e("p",[t._v("标准明确规定，只有浏览器必须部署这个属性，"),e("strong",[t._v("其他运行环境不一定需要部署，而且新的代码最好认为这个属性是不存在的")]),t._v("。")])]),t._v(" "),e("li",[e("p",[t._v("所以无论从语义的角度，还是从兼容性的角度，都不要使用这个属性，应该使用："),e("code",[t._v("Object.getPrototypeOf(target)")]),t._v("（读操作）、"),e("code",[t._v("Object.setPrototypeOf(target)")]),t._v("（写操作）、"),e("code",[t._v("Object.create(target)")]),t._v("（生成操作）代替")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"构造函数是什么、它做了什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构造函数是什么、它做了什么"}},[this._v("#")]),this._v(" 构造函数是什么、它做了什么")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("出自《你不知道的在js》：在js中, 实际上并不存在所谓的'构造函数'，只有对于函数的'构造调用'。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("上文一直提到构造函数，所谓的构造函数，实际上就是通过关键字"),s("code",[this._v("new")]),this._v("来调用的函数：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" newObj "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("someFn")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构造调用函数")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("构造/new调用函数的时候做了什么")]),this._v("：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ol",[e("li",[t._v("创建一个全新的对象。")]),t._v(" "),e("li",[t._v("这个新对象的原型("),e("code",[t._v("Object.getPrototypeOf(target)")]),t._v(")指向构造函数的"),e("code",[t._v("prototype")]),t._v("对象。")]),t._v(" "),e("li",[t._v("该函数的this会绑定在新创建的对象上。")]),t._v(" "),e("li",[t._v("如果函数没有返回其他对象，那么new表达式中的函数调用会自动返回这个新对象。")]),t._v(" "),e("li",[t._v("我们称这个新对象为构造函数的实例。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("原型继承就是利用构造调用函数的特性")]),this._v("：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SubType")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SuperType")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原型继承：SubType继承SuperType")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SubType")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" SubType "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重新指定constructor指向 方便找到构造函数")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 挂载SuperType的this和prototype的属性和方法到SubType.prototype上")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ol",[e("li",[t._v("\b构造调用的第二点：将新对象的"),e("code",[t._v("Object.getPrototypeOf(target)")]),t._v("指向函数的"),e("code",[t._v("prototype")])]),t._v(" "),e("li",[t._v("构造调用的第三点：该函数的this会绑定在新创建的对象上。")]),t._v(" "),e("li",[t._v("新对象赋值给"),e("code",[t._v("SubType.prototype")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("因为每次实例化引用类型的数据都指向同一个地址，所以它们读/写的是同一个数据，当一个实例对其进行操作，其他实例的数据就会一起更改。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"原型链是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原型链是什么"}},[this._v("#")]),this._v(" 原型链是什么")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newObj "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构造调用foo 返回一个新对象")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newObj__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newObj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取newObj的原型对象")]),t._v("\nnewObj__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" foo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true 验证newObj的原型指向foo")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" foo__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("foo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取foo.prototype的原型")]),t._v("\nfoo__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true foo.prototype的原型是Object.prototype")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n如果用以前的语法，从"),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("newObj")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("查找"),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("的原型，是这样的：\n"),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("`js\nnewObj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这种关系就是原型链")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("可以用以下三句话来理解原型链")]),this._v("：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ol",[e("li",[e("strong",[t._v("每个对象都拥有一个原型对象")]),t._v(": "),e("code",[t._v("newObj")]),t._v("的原型是"),e("code",[t._v("foo.prototype")]),t._v("。")]),t._v(" "),e("li",[e("strong",[t._v("对象的原型可能也是继承其他原型对象的")]),t._v(": "),e("code",[t._v("foo.prototype")]),t._v("也有它的原型"),e("code",[t._v("Object.prototype")]),t._v("。")]),t._v(" "),e("li",[e("strong",[t._v("一层一层的，以此类推，这种关系就是原型链")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"一个对象是否在另一个对象的原型链上"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一个对象是否在另一个对象的原型链上"}},[this._v("#")]),this._v(" 一个对象是否在另一个对象的原型链上")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("如果一个对象存在另一个对象的原型链上，我们可以说：它们是继承关系。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("判断方式有两种，但都是根据构造函数的"),s("code",[this._v("prototype")]),this._v("是否在原型链上来判断的：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("code",[this._v("instanceof")]),this._v(": 用于测试构造函数的prototype属性是否出现在对象的原型链中的任何位置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("语法："),s("code",[this._v("object instanceof constructor")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("test")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" testObject "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("test")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ntestObject "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("test")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true test.prototype在testObject的原型链上")]),t._v("\n testObject "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false Function.prototype 不在testObject的原型链上")]),t._v("\ntestObject "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true Object.prototype在testObject的原型链上")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[s("code",[this._v("isPrototypeOf")]),this._v("：测试一个对象是否存在于另一个对象的原型链上")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("语法："),s("code",[this._v("prototypeObj.isPrototypeOf(object)")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("test")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" testObject "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("test")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ntest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true test.prototype在testObject的原型链上")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true Object.prototype在testObject的原型链上")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"原型链的终点-object-prototype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原型链的终点-object-prototype"}},[this._v("#")]),this._v(" 原型链的终点: "),s("code",[this._v("Object.prototype")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("Object.prototype")]),this._v("是原型链的终点，所有对象都是从它继承了方法和属性。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[s("code",[this._v("Object.prototype")]),this._v("没有原型对象")]),this._v("：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proto "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// null")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("字符串原型链的终点")]),this._v("："),s("code",[this._v("Object.prototype")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" test "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'由String函数构造出来的'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" stringPrototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 字符串的原型")]),t._v("\nstringPrototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true 字符串的原型是String对象")]),t._v("\nObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stringPrototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true String对象的原型是Object对象")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("函数原型链的终点")]),this._v(":"),s("code",[this._v("Object.prototype")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("test")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" fnPrototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfnPrototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true test的原型是Function.prototype")]),t._v("\nObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"原型链用来做什么？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原型链用来做什么？"}},[this._v("#")]),this._v(" 原型链用来做什么？")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"属性查找："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性查找："}},[this._v("#")]),this._v(" 属性查找：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("如果试图访问对象(实例instance)的某个属性,会首先在对象内部寻找该属性,直至找不到,然后才在该对象的原型(instance.prototype)里去找这个属性，以此类推")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" test "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'由String函数构造出来的'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" stringPrototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 字符串的原型")]),t._v("\nstringPrototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true 字符串的原型是String对象")]),t._v("\nObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stringPrototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true String对象的原型是Object对象")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当你访问"),s("code",[this._v("test")]),this._v("的某个属性时，浏览器会进行以下查找：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ol",[e("li",[t._v("浏览器首先查找"),e("code",[t._v("test")]),t._v(" 本身")]),t._v(" "),e("li",[t._v("接着查找它的原型对象："),e("code",[t._v("String.prototype")])]),t._v(" "),e("li",[t._v("最后查找"),e("code",[t._v("String.prototype")]),t._v("的原型对象："),e("code",[t._v("Object.prototype")])]),t._v(" "),e("li",[t._v("一旦在原型链上找到该属性，就会立即返回该属性，停止查找。")]),t._v(" "),e("li",[t._v("原型链上的原型都没有找到的话，返回"),e("code",[t._v("undefiend")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这种查找机制还解释了字符串为何会有自带的方法: "),s("code",[this._v("slice")]),this._v("/"),s("code",[this._v("split")]),this._v("/"),s("code",[this._v("indexOf")]),this._v("等。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("这些属性和方法是定义在"),e("code",[t._v("String")]),t._v("这个全局对象/函数上的。")]),t._v(" "),e("li",[t._v("字符串的原型指向了"),e("code",[t._v("String")]),t._v("函数的"),e("code",[t._v("prototype")]),t._v("。")]),t._v(" "),e("li",[t._v("之后通过查找原型链，在String函数的"),e("code",[t._v("prototype")]),t._v("中找到这些属性和方法。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"拒绝查找原型链："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拒绝查找原型链："}},[this._v("#")]),this._v(" 拒绝查找原型链：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("hasOwnProperty")]),this._v(": 指示对象自身属性中是否具有指定的属性")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("语法："),s("code",[this._v("obj.hasOwnProperty(prop)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("参数: "),s("code",[this._v("prop")]),this._v(" 要查找的属性")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("返回值: 用来判断某个对象是否含有指定的属性的"),s("code",[this._v("Boolean")]),this._v("。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" test "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'OBKoro1'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'扣肉'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ntest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'OBKoro1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\ntest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'toString'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false test本身没查找到toString ")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这个"),s("code",[this._v("API")]),this._v("是挂载在"),s("code",[this._v("object.prototype")]),this._v("上，所有对象都可以使用，API会忽略掉那些从原型链上继承到的属性。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"扩展："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扩展："}},[this._v("#")]),this._v(" 扩展：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"实例的属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例的属性"}},[this._v("#")]),this._v(" 实例的属性")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("some "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'222'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ccc "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ccc'")]),t._v("\n    foo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("obkoro1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'obkoro1'")]),t._v("\n    foo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aaa'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nfoo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("koro "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'扣肉'")]),t._v("\nfoo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" foo1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// `foo1`上有哪些属性,这些属性分别挂载在哪个地方")]),t._v("\nfoo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test2'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重新赋值")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("上面这道是考察"),e("code",[t._v("JS")]),t._v("基础的题，很多人都没说对，原因是没有彻底掌握"),e("code",[t._v("this")]),t._v("、"),e("code",[t._v("原型链")]),t._v("、"),e("code",[t._v("函数")]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"想一下再看解析："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#想一下再看解析："}},[this._v("#")]),this._v(" 想一下再看解析：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"想一下再看解析：-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#想一下再看解析：-2"}},[this._v("#")]),this._v(" 想一下再看解析：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"想一下再看解析：-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#想一下再看解析：-3"}},[this._v("#")]),this._v(" 想一下再看解析：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"想一下再看解析：-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#想一下再看解析：-4"}},[this._v("#")]),this._v(" 想一下再看解析：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"想一下再看解析：-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#想一下再看解析：-5"}},[this._v("#")]),this._v(" 想一下再看解析：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("code",[this._v("this.some")]),this._v("："),s("code",[this._v("foo1")]),this._v("对象的属性")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("通过构造调用"),e("code",[t._v("foo")]),t._v("的"),e("code",[t._v("this")]),t._v("指向"),e("code",[t._v("foo1")]),t._v("，所以"),e("code",[t._v("this.some")]),t._v("挂载在"),e("code",[t._v("foo1")]),t._v("对象下。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("属性查找: "),s("code",[this._v("foo1.some")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("foo1.some")]),this._v("直接读取"),s("code",[this._v("foo1")]),this._v("的属性。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[s("code",[this._v("foo1.test")]),this._v("、"),s("code",[this._v("foo1.a")]),this._v("："),s("code",[this._v("foo1")]),this._v("对象的原型")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("根据上文提到的：构造/new调用函数的时候会创建一个新对象("),s("code",[this._v("foo1")]),this._v(")，自动将"),s("code",[this._v("foo1")]),this._v("的原型("),s("code",[this._v("Object.getPrototypeOf(foo1)")]),this._v(")指向构造函数的prototype对象。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("构造调用会执行函数，所以"),s("code",[this._v("foo.prototype.a = 'aaaaa'")]),this._v("也会执行，单就赋值这个层面来说写在"),s("code",[this._v("foo")]),this._v("外面和写在"),s("code",[this._v("foo")]),this._v("里面是一样的。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("属性查找："),s("code",[this._v("foo1.test")]),this._v("、"),s("code",[this._v("foo1.a")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("code",[t._v("foo1")]),t._v("本身没有找到,继续查找")]),t._v(" "),e("li",[e("code",[t._v("foo1")]),t._v("的原型"),e("code",[t._v("Object.getPrototypeOf(foo1)")]),t._v("上找到了"),e("code",[t._v("a")]),t._v("和"),e("code",[t._v("test")]),t._v("，返回它们，停止查找。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"3"}},[s("li",[s("code",[this._v("foo1.obkoro1")]),this._v("和"),s("code",[this._v("foo1.koro")]),this._v("：返回undefined")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"静态属性-foo-obkoro1、foo-koro"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态属性-foo-obkoro1、foo-koro"}},[this._v("#")]),this._v(" 静态属性: "),s("code",[this._v("foo.obkoro1")]),this._v("、"),s("code",[this._v("foo.koro")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("函数在JS中是一等公民，它也是一个对象, 用来模拟类。")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("这两个属性跟"),e("code",[t._v("foo1")]),t._v("没有关系，它是对象"),e("code",[t._v("foo")]),t._v("上的两个属性(类似函数的:"),e("code",[t._v("arguments")]),t._v("/"),e("code",[t._v("prototype")]),t._v("/"),e("code",[t._v("length")]),t._v("等属性)，称为"),e("strong",[t._v("静态属性")]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("它们只能通过"),s("code",[this._v("foo.obkoro1")]),this._v("和"),s("code",[this._v("foo.koro")]),this._v("来访问。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"原型对象改变，原型链下游获取的值也会改变"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原型对象改变，原型链下游获取的值也会改变"}},[this._v("#")]),this._v(" 原型对象改变，原型链下游获取的值也会改变")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("上面那个例子中的"),s("code",[this._v("foo1.test")]),this._v("的值是什么？")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("foo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" foo1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// `foo1`上有哪些属性,这些属性分别挂载在哪个地方")]),t._v("\nfoo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test2'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重新赋值")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[e("code",[t._v("foo1.test")]),t._v("的值是"),e("code",[t._v("test2")]),t._v("，原因是："),e("code",[t._v("foo1")]),t._v("的原型对象是"),e("code",[t._v("Object.getPrototypeOf(foo1)")]),t._v("存的指针，指向"),e("code",[t._v("foo.prototype")]),t._v("的内存地址，不是拷贝，每次读取的值都是当前"),e("code",[t._v("foo.prototype")]),t._v("的最新值。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("打印"),s("code",[this._v("foo1")])]),this._v("：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://github.com/OBKoro1/articleImg_src/blob/master/2019/2019_8_25_prototype.png?raw=true",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[this._v("#")]),this._v(" 小结")])}],!1,null,null,null);s.default=n.exports}}]);