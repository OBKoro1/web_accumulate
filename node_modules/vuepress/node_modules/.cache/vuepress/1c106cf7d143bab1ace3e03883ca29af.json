{"remainingRequest":"/Users/koro/work/web_my/web_accumulate/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/koro/work/web_my/web_accumulate/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/koro/work/web_my/web_accumulate/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/koro/work/web_my/web_accumulate/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/koro/work/web_my/web_accumulate/docs/accumulate/effect/浏览器桌面通知.md?vue&type=template&id=f1c21e28&","dependencies":[{"path":"/Users/koro/work/web_my/web_accumulate/docs/accumulate/effect/浏览器桌面通知.md","mtime":1636107879469},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/cache-loader/dist/cjs.js","mtime":1557296864520},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1557296867191},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/cache-loader/dist/cjs.js","mtime":1557296864520},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/vue-loader/lib/index.js","mtime":1557296867190},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1557296867284}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('p',[_vm._v(\"我还发了一个npm包:\"),_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1/notification-Koro1\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"notification-Koro1\"),_c('OutboundLink')],1),_vm._v(\"，非常轻量简洁，觉得不错的话，点个Star吧~\")]),_vm._v(\" \"),_vm._m(4),_vm._v(\" \"),_vm._m(5),_vm._v(\" \"),_vm._m(6),_vm._v(\" \"),_vm._m(7),_vm._v(\" \"),_vm._m(8),_vm._v(\" \"),_vm._m(9),_vm._v(\" \"),_vm._m(10),_vm._v(\" \"),_c('blockquote',[_c('p',[_c('a',{attrs:{\"href\":\"http://obkoro1.com/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"博客\"),_c('OutboundLink')],1),_vm._v(\"、\"),_c('a',{attrs:{\"href\":\"http://obkoro1.com/web_accumulate/accumulate/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"前端积累文档\"),_c('OutboundLink')],1),_vm._v(\"、\"),_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1/articleImg_src/blob/master/juejin/1631b6f52f7e7015.jpeg?raw=true\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"公众号\"),_c('OutboundLink')],1),_vm._v(\"、\"),_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"GitHub\"),_c('OutboundLink')],1)])]),_vm._v(\" \"),_vm._m(11),_vm._v(\" \"),_c('p',[_vm._v(\"API的具体细节，等下再说，先试试这个API~\")]),_vm._v(\" \"),_vm._m(12),_vm._v(\" \"),_vm._m(13),_c('hr'),_vm._v(\" \"),_vm._m(14),_vm._v(\" \"),_c('p',[_c('a',{attrs:{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/notification#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"MDN\"),_c('OutboundLink')],1),_vm._v(\"：目前\"),_c('code',[_vm._v(\"Notification\")]),_vm._v(\"除了IE浏览器不支持外, 其他浏览器都已支持桌面通知，移动端浏览器基本都未支持。\")]),_vm._v(\" \"),_vm._m(15),_vm._v(\" \"),_vm._m(16),_vm._m(17),_vm._v(\" \"),_c('p',[_vm._v(\"为了避免网站滥用通知扰民，在向用户显示通知之前，需要经过用户同意。\")]),_vm._v(\" \"),_vm._m(18),_vm._v(\" \"),_vm._m(19),_vm._v(\" \"),_vm._m(20),_vm._v(\" \"),_vm._m(21),_vm._v(\" \"),_vm._m(22),_vm._m(23),_vm._v(\" \"),_vm._m(24),_vm._v(\" \"),_vm._m(25),_vm._v(\" \"),_vm._m(26),_vm._m(27),_vm._v(\" \"),_vm._m(28),_vm._v(\" \"),_vm._m(29),_vm._m(30),_vm._v(\" \"),_vm._m(31),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"title：通知的标题\")]),_vm._v(\" \"),_c('li',[_vm._v(\"options：通知的设置选项（可选）。\\n\"),_c('ul',[_c('li',[_vm._v(\"body：字符串。通知的body内容。\")]),_vm._v(\" \"),_vm._m(32),_vm._v(\" \"),_c('li',[_vm._v(\"icon：字符串。要在通知中显示的图标的URL。\")]),_vm._v(\" \"),_vm._m(33),_vm._v(\" \"),_c('li',[_vm._v(\"renotify: 布尔值。相同tag，新通知出现的时候是否替换之前的(开启此项，tag必须设置)。\")]),_vm._v(\" \"),_c('li',[_vm._v(\"requireInteraction：布尔值。通知不自动关闭，默认为false(自动关闭)。\")]),_vm._v(\" \"),_c('li',[_vm._v(\"还有一些不太重要的配置可以看\"),_c('a',{attrs:{\"href\":\"https://www.zhangxinxu.com/wordpress/2016/07/know-html5-web-notification/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"张鑫旭老师的博客\"),_c('OutboundLink')],1),_vm._v(\"和\"),_c('a',{attrs:{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/notification\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"MDN\"),_c('OutboundLink')],1),_vm._v(\"的介绍\")])])])]),_vm._v(\" \"),_vm._m(34),_vm._v(\" \"),_c('p',[_vm._v(\"默认值为false，通知会在三四秒之后自动关闭。\")]),_vm._v(\" \"),_vm._m(35),_vm._v(\" \"),_vm._m(36),_vm._v(\" \"),_c('p',[_vm._v(\"这种情况显然，我们只能默认操作最后一个通知，除非你把每个通知返回的实例都保存下来。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"我发布的npm包：\"),_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1/notification-Koro1\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"notification-koro1\"),_c('OutboundLink')],1),_vm._v(\"，可以\"),_c('strong',[_vm._v(\"自定义一定的时间间隔自动关闭不自动关闭的通知，也可以一次性关闭所有通知\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"PS：如果没有触发叠加，很可能是因为你两次通知的tag配置项是相同的(相同tag只能出现一个弹窗)。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"PS:  safari下不支持该选项,默认自动关闭\")]),_vm._v(\" \"),_vm._m(37),_vm._v(\" \"),_c('p',[_vm._v(\"默认值为false，chorme下相同tag的通知不替换，还是老的通知\")]),_vm._v(\" \"),_vm._m(38),_vm._v(\" \"),_vm._m(39),_vm._v(\" \"),_c('p',[_vm._v(\"PS： safari下不支持该选项，默认两个相同tag的通知，新通知替换之前旧的通知。\")]),_vm._v(\" \"),_vm._m(40),_vm._v(\" \"),_c('p',[_vm._v(\"生成通知，会返回一个实例，如下：\")]),_vm._v(\" \"),_vm._m(41),_vm._m(42),_vm._v(\" \"),_vm._m(43),_vm._v(\" \"),_vm._m(44),_vm._v(\" \"),_vm._m(45),_vm._v(\" \"),_vm._m(46),_vm._v(\" \"),_c('p',[_vm._v(\"PS： 这些属性都是只读的，不能删除，不能修改，不能遍历。\")]),_vm._v(\" \"),_vm._m(47),_vm._v(\" \"),_c('p',[_vm._v(\"我们可以使用通知的实例来监听通知的事件：\")]),_vm._v(\" \"),_vm._m(48),_vm._v(\" \"),_vm._m(49),_vm._m(50),_vm._v(\" \"),_c('p',[_vm._v(\"例如：用定时器5秒后才监听通知的点击和显示事件，则永远不会触发通知显示的回调，点击事件在5秒后才可以正常起作用但会错误五秒之前用户的点击。\")]),_vm._v(\" \"),_vm._m(51),_vm._v(\" \"),_vm._m(52),_c('p',[_vm._v(\"没有设置不自动关闭的话，chrome通知将会在4.5秒左右自动关闭通知，safari则是5秒钟(无法设置不自动关闭)。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"notification没有定时控制通知多久后消失的功能，当出现多个通知，也无法统一关闭。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"这两个问题，在我发布的NPM包：\"),_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1/notification-Koro1\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"notification-koro1\"),_c('OutboundLink')],1),_vm._v(\"中，都解决掉了，并提供更清晰的回调\")]),_vm._v(\" \"),_vm._m(53),_vm._v(\" \"),_vm._m(54),_vm._v(\" \"),_vm._m(55),_vm._v(\" \"),_c('p',[_vm._v(\"这里是一些API/浏览器细节，以及可能会遇到的问题，可以先不看，等真正遇到了，回头再来看。\")]),_vm._v(\" \"),_vm._m(56),_vm._v(\" \"),_c('p',[_vm._v(\"一旦用户禁止网站显示通知，网站就不能再请求用户授权显示通知，需要用户去设置中更改。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"chrome浏览器的通知设置位置：设置>高级>内容设置>通知\")]),_vm._v(\" \"),_c('p',[_vm._v(\"saafari浏览器：偏好设置>网站>通知>找到网站>修改权限/恢复默认\")]),_vm._v(\" \"),_vm._m(57),_vm._v(\" \"),_vm._m(58),_vm._v(\" \"),_c('p',[_vm._v(\"在safari浏览器下，没有关闭请求权限的选项，用户必须选择同意/拒绝。\")]),_vm._v(\" \"),_vm._m(59),_vm._v(\" \"),_c('p',[_vm._v(\"可能是网站进行了同源限制(比如github)，不是域名下面的图片，会报错，不能调用。\")]),_vm._v(\" \"),_vm._m(60),_vm._v(\" \"),_vm._m(61),_vm._v(\" \"),_vm._m(62),_vm._v(\" \"),_c('p',[_vm._v(\"在safari下面，同一个网站(比如谷歌)，同样的代码，chorme可以正常显示icon，safari却没有icon，也没有报错。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"谷歌之后发现,在\"),_c('a',{attrs:{\"href\":\"https://stackoverflow.com/questions/20949203/i-dont-see-the-icon-in-my-web-notification-in-safari\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"stack overflow\"),_c('OutboundLink')],1),_vm._v(\"里面看到\"),_c('strong',[_vm._v(\"safari只支持body和tag选项,并不支持icon选项\")]),_vm._v(\"。\")]),_vm._v(\" \"),_vm._m(63),_vm._v(\" \"),_vm._m(64),_vm._v(\" \"),_vm._m(65),_vm._v(\" \"),_vm._m(66),_vm._v(\" \"),_vm._m(67),_vm._v(\" \"),_c('p',[_vm._v(\"试一下\"),_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1/notification-Koro1\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"notification-Koro1\"),_c('OutboundLink')],1),_vm._v(\"啦, 持续维护，简单方便~\")]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_vm._m(68),_vm._v(\" \"),_c('p',[_vm._v(\"本文写的比较细，可以先mark一下，然后以后真正用到这个API了，可以先通过文中的栗子，然后再查找对应的内容。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"还有就是注意浏览器间的差异，我自己就试了chrome和safari，然后这两个浏览器在实现细节上有很多不一样的地方，开发的时候注意一下。\")]),_vm._v(\" \"),_c('p',[_c('a',{attrs:{\"href\":\"http://obkoro1.com/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"博客\"),_c('OutboundLink')],1),_vm._v(\"、\"),_c('a',{attrs:{\"href\":\"http://obkoro1.com/web_accumulate/accumulate/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"前端积累文档\"),_c('OutboundLink')],1),_vm._v(\"、\"),_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1/articleImg_src/blob/master/juejin/1631b6f52f7e7015.jpeg?raw=true\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"公众号\"),_c('OutboundLink')],1),_vm._v(\"、\"),_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"GitHub\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('p',[_vm._v(\"参考资料：\")]),_vm._v(\" \"),_c('p',[_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1/notification-Koro1\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"notification-Koro1\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('p',[_c('a',{attrs:{\"href\":\"https://www.zhangxinxu.com/wordpress/2016/07/know-html5-web-notification/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"简单了解HTML5中的Web Notification桌面通知\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('p',[_c('a',{attrs:{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/notification\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Notification MDN\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('p',[_c('a',{attrs:{\"href\":\"https://juejin.im/post/59ed37f5f265da431e15eaac\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"HTML5 桌面通知：Notification API\"),_c('OutboundLink')],1)]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"点个star支持我一下\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#点个star支持我一下\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 点个\"),_c('a',{attrs:{\"href\":\"https://github.com/OBKoro1/web_accumulate\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Star\"),_c('OutboundLink')],1),_vm._v(\"支持我一下~\")]),_vm._v(\" \"),_c('comment-comment')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"h5-notification浏览器桌面通知\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#h5-notification浏览器桌面通知\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" H5 notification浏览器桌面通知\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('img',{attrs:{\"src\":\"https://github.com/OBKoro1/articleImg_src/blob/master/weibo_img_move/005Y4rCogy1g0brdnk332j30xc0dwjtz.jpg?raw=true\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('code',[_vm._v(\"Notification\")]),_vm._v(\"是HTML5新增的API，用于向用户配置和显示桌面通知。上次在别的网站上看到别人的通知弹窗，好奇之余也想知道如何实现的。实际去查一下发现并不复杂，且可以说比较简单，故写篇博客分享给大家,希望能帮你们了解这个API。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"npm包：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#npm包：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" npm包：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"chrome下notification的表现：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#chrome下notification的表现：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" chrome下\"),_c('code',[_vm._v(\"Notification\")]),_vm._v(\"的表现：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',[_c('li',[_vm._v(\"以谷歌为例，一开始需要用户允许通知：\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('img',{attrs:{\"src\":\"https://github.com/OBKoro1/articleImg_src/blob/master/weibo_img_move/005Y4rCogy1fzskpfbfmbj30hs078q36.jpg?raw=true\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{attrs:{\"start\":\"2\"}},[_c('li',[_vm._v(\"允许通知之后，显示的通知长这样：\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('img',{attrs:{\"src\":\"https://github.com/OBKoro1/articleImg_src/blob/master/weibo_img_move/005Y4rCogy1fzyaxnnc25j30kg03wjrs.jpg?raw=true\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"notification特性\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#notification特性\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('code',[_vm._v(\"Notification\")]),_vm._v(\"特性\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',[_c('li',[_c('p',[_c('strong',[_vm._v(\"该通知是脱离浏览器的，即使用户没有停留在当前标签页，甚至最小化了浏览器，也会在主屏幕的右上角显示通知，然后在一段时间后消失\")]),_vm._v(\"。\")])]),_vm._v(\" \"),_c('li',[_c('p',[_c('strong',[_vm._v(\"我们可以监听通知的显示，点击，关闭等事件\")]),_vm._v(\",比如点击通知打开一个页面。\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"栗子：去各个网站里面的控制台去运行\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#栗子：去各个网站里面的控制台去运行\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 栗子：去各个网站里面的控制台去运行\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"下面是一个简单的栗子，大家\"),_c('strong',[_vm._v(\"可以先在各个网站的控制台里面运行查看\"),_c('code',[_vm._v(\"Notification\")]),_vm._v(\"的效果\")]),_vm._v(\"：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-js line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-js\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"var\")]),_vm._v(\" options \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  dir\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"auto\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 文字方向\")]),_vm._v(\"\\n  body\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"通知：OBKoro1评论了你的朋友圈\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 通知主体\")]),_vm._v(\"\\n  requireInteraction\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token boolean\"}},[_vm._v(\"true\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 不自动关闭通知\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 通知图标 \")]),_vm._v(\"\\n  icon\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"https://upload-images.jianshu.io/upload_images/5245297-818e624b75271127.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\\\"\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"notifyMe\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'这是通知的标题'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" options\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"notifyMe\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"title\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" options\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 先检查浏览器是否支持\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"!\")]),_vm._v(\"window\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"Notification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'浏览器不支持通知'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"else\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 检查用户曾经是否同意接受通知\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"Notification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"===\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'granted'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"var\")]),_vm._v(\" notification \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Notification\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"title\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" options\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 显示通知\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"else\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"Notification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"===\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'default'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 用户还未选择，可以询问用户是否同意发送通知\")]),_vm._v(\"\\n      Notification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"requestPermission\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"then\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=>\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"===\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'granted'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n          console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户同意授权'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n          \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"var\")]),_vm._v(\" notification \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Notification\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"title\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" options\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 显示通知\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"else\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"===\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'default'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n          console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"warn\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户关闭授权 未刷新页面之前 可以再次请求授权'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"else\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n          \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// denied\")]),_vm._v(\"\\n          console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户拒绝授权 不能显示通知'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"else\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// denied 用户拒绝\")]),_vm._v(\"\\n      console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户曾经拒绝显示通知'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"10\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"11\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"12\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"13\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"14\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"15\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"16\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"17\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"18\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"19\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"20\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"21\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"22\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"23\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"24\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"25\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"26\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"27\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"28\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"29\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"30\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"31\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"32\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"33\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"34\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"35\")]),_c('br')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"浏览器支持：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#浏览器支持：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 浏览器支持：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"因为兼容性问题，所以在使用\"),_c('code',[_vm._v(\"Notification\")]),_vm._v(\"之前，我们需要查看浏览器是否支持\"),_c('code',[_vm._v(\"Notification\")]),_vm._v(\"这个API：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-js line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-js\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"window\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"Notification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 桌面通知的逻辑\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"通知权限：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#通知权限：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 通知权限：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('code',[_vm._v(\"Notification.permission\")]),_vm._v(\" \"),_c('strong',[_vm._v(\"用于表明当前通知显示的授权状态\")]),_vm._v(\",它有三个值：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',[_c('li',[_c('code',[_vm._v(\"default\")]),_vm._v(\": 默认值，用户还未选择\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"granted\")]),_vm._v(\": 用户允许该网站发送通知\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"denied\")]),_vm._v(\": 用户拒绝该网站发送通知\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"检测权限：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#检测权限：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 检测权限：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"检测浏览器是否支持\"),_c('code',[_vm._v(\"Notification\")]),_vm._v(\"之后，需要检测一下用户通知权限。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-js line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-js\"}},[_c('code',[_vm._v(\"  \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"Notification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"===\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'granted'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户曾经同意授权'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n     \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 随时可以显示通知\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"else\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"Notification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"===\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'default'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户还未选择同意/拒绝'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 下一步请求用户授权\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"else\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户曾经拒绝授权 不能显示通知'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"请求权限\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#请求权限\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 请求权限\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"当\"),_c('code',[_vm._v(\"Notification.permission\")]),_vm._v(\"为\"),_c('code',[_vm._v(\"default\")]),_vm._v(\"的时候，我们需要使用\"),_c('code',[_vm._v(\"Notification.requestPermission()\")]),_vm._v(\"来请求用户权限。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('code',[_vm._v(\"Notification.requestPermission()\")]),_vm._v(\"基于promise语法，then的回调函数参数是用户权限的状态\"),_c('code',[_vm._v(\"Notification.permission\")]),_vm._v(\"的值。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-js line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-js\"}},[_c('code',[_vm._v(\"Notification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"requestPermission\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"then\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=>\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"===\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'granted'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户同意授权'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n     \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 随时可以显示通知\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"else\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"permission \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"===\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'default'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户关闭授权 可以再次请求授权'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"else\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n    console\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"log\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'用户拒绝授权 不能显示通知'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 老版本使用的是回调函数机制：Notification.requestPermission(callback); 参数一样\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"10\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"11\")]),_c('br')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"推送通知\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#推送通知\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 推送通知\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"当\"),_c('code',[_vm._v(\"Notification.permission\")]),_vm._v(\"为\"),_c('code',[_vm._v(\"granted\")]),_vm._v(\"时，请求到用户权限之后，不必立即发送通知，可以在任意时刻，以任意形式来发送通知。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-js line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-js\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"const\")]),_vm._v(\" options \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 传空配置\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"const\")]),_vm._v(\" title \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'这里是标题'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"const\")]),_vm._v(\" notification \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Notification\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"title\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" options\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 显示通知\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('blockquote',[_c('p',[_vm._v(\"上面这段代码就可以显示一个简单的通知了，只要用户允许你弹窗。\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"notification的参数：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#notification的参数：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('code',[_vm._v(\"Notification\")]),_vm._v(\"的参数：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_vm._v(\"tag：代表通知的一个识别标签，\"),_c('strong',[_vm._v(\"相同tag时只会打开一个通知窗口\")]),_vm._v(\"。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_vm._v(\"data：想要和通知关联的数据,可以在\"),_c('code',[_vm._v(\"new Notification\")]),_vm._v(\"返回的实例中找到。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('strong',[_vm._v(\"requireInteraction\")]),_vm._v(\": 保持通知不自动关闭\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"当设置为\"),_c('code',[_vm._v(\"true\")]),_vm._v(\",并且当有超过两个通知(\"),_c('code',[_vm._v(\"new Notification(title, options)\")]),_vm._v(\")时，会出现如下图的通知叠加状态。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('img',{attrs:{\"src\":\"https://github.com/OBKoro1/articleImg_src/blob/master/weibo_img_move/005Y4rCogy1fzyy3ykl2gj30jy0kc772.jpg?raw=true\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('strong',[_vm._v(\"renotify\")]),_vm._v(\"：相同\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"设置为\"),_c('code',[_vm._v(\"true\")]),_vm._v(\", 两个相同tag的通知，新通知替换之前旧的通知。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('strong',[_vm._v(\"注意\")]),_vm._v(\"：使用\"),_c('code',[_vm._v(\"renotify\")]),_vm._v(\"，\"),_c('strong',[_vm._v(\"必须要同时设置\"),_c('code',[_vm._v(\"tag\")]),_vm._v(\"选项，否则将会报错\")]),_vm._v(\"。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"notification的实例：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#notification的实例：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('code',[_vm._v(\"Notification\")]),_vm._v(\"的实例：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-js line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-js\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"const\")]),_vm._v(\" instanceNotification \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Notification\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"title\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" options\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('code',[_vm._v(\"instanceNotification\")]),_vm._v(\"就是当前通知的实例，在该实例上，我们可以\"),_c('strong',[_vm._v(\"查询该通知的配置，监听事件，调用实例方法\")]),_vm._v(\"。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"下文都以\"),_c('code',[_vm._v(\"instanceNotification\")]),_vm._v(\"指代通知返回的实例。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"通知的配置：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#通知的配置：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 通知的配置：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('strong',[_vm._v(\"在通知实例上可以读取到设置通知时的所有配置\")]),_vm._v(\"，比如：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"通知标题：\"),_c('code',[_vm._v(\"instanceNotification. title\")]),_vm._v(\"、通知内容：\"),_c('code',[_vm._v(\"instanceNotification. body\")]),_vm._v(\"、通知图标：\"),_c('code',[_vm._v(\"instanceNotification. icon\")]),_vm._v(\"等。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"事件处理：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#事件处理：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 事件处理：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('code',[_vm._v(\"click\")]),_vm._v(\": 用户点击通知时被触发\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"show\")]),_vm._v(\": 通知显示的时候被触发\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"error\")]),_vm._v(\": 通知遇到错误时被触发\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"close\")]),_vm._v(\": 用户关闭通知时被触发\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-js line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-js\"}},[_c('code',[_vm._v(\"instanceNotification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function-variable function\"}},[_vm._v(\"onclick\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" e \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=>\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// do something 可以是：打开网址，发请求，关闭通知等\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('strong',[_vm._v(\"注意\")]),_vm._v(\"：最好是一发出通知就立即监听事件，否则有些事件可能一开始没被触发或永远不会触发。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"关闭通知\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#关闭通知\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 关闭通知\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"language-js line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-js\"}},[_c('code',[_vm._v(\"instanceNotification\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"close\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"应用场景\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#应用场景\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 应用场景\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"即时通讯软件(邮件、聊天室)\")]),_vm._v(\" \"),_c('li',[_vm._v(\"体育赛事结果彩票/抽奖结果\")]),_vm._v(\" \"),_c('li',[_vm._v(\"新闻网站重大新闻通知\")]),_vm._v(\" \"),_c('li',[_vm._v(\"网站的重大更新，重大新闻等。\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"notification其他\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#notification其他\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" notification其他\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"用户拒绝显示通知：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#用户拒绝显示通知：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 用户拒绝显示通知：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"关闭请求权限：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#关闭请求权限：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 关闭请求权限：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"在chorme浏览器中：当用户关闭请求权限的弹窗(右上角的叉叉)，页面还没刷新，我们可以再次向用户请求权限。\"),_c('strong',[_vm._v(\"页面刷新过后，浏览器默认用户拒绝\")]),_vm._v(\"。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"icon不显示问题：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#icon不显示问题：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" icon不显示问题：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"tag：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#tag：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" tag：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',[_c('li',[_c('code',[_vm._v(\"tag\")]),_vm._v(\"相同的通知，同时只能出现一个，老通知是否会被覆盖取决于：\"),_c('code',[_vm._v(\"renotify\")]),_vm._v(\"配置和浏览器。\")]),_vm._v(\" \"),_c('li',[_vm._v(\"chrome下：当通知关闭之后，\"),_c('strong',[_vm._v(\"上次出现过的tag在一段时间内，不能再出现\")]),_vm._v(\"，比如刷新页面再请求相同tag的通知。（在safari下正常出现）\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"safari下面不能显示icon\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#safari下面不能显示icon\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" safari下面不能显示icon\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"连续触发\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#连续触发\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 连续触发\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"在safari和chrome下短时间内连续触发通知(不设\"),_c('code',[_vm._v(\"tag\")]),_vm._v(\"，不设\"),_c('code',[_vm._v(\"requireInteraction\")]),_vm._v(\")，会出现如下表现：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('img',{attrs:{\"src\":\"https://github.com/OBKoro1/articleImg_src/blob/master/weibo_img_move/005Y4rCogy1g05d2z0zxej30je03wwep.jpg?raw=true\",\"alt\":\"notification 连续触发\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"这个表现，\"),_c('strong',[_vm._v(\"通知没有icon、标题、内容，就显得没有意义了\")]),_vm._v(\"，浏览器以这种形式，限制开发者不要频繁打扰用户。\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{attrs:{\"id\":\"notification-koro1：\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#notification-koro1：\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" notification-Koro1：\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{attrs:{\"id\":\"结语\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#结语\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 结语\")])}]\n\nexport { render, staticRenderFns }"]}