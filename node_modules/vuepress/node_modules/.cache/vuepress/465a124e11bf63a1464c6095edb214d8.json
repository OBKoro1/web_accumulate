{"remainingRequest":"/Users/koro/work/web_my/web_accumulate/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/koro/work/web_my/web_accumulate/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/koro/work/web_my/web_accumulate/docs/accumulate/effect/判断用户浏览器.md?vue&type=template&id=19d7287d&","dependencies":[{"path":"/Users/koro/work/web_my/web_accumulate/docs/accumulate/effect/判断用户浏览器.md","mtime":1561373578318},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/cache-loader/dist/cjs.js","mtime":1557296864520},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1557296867191},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/cache-loader/dist/cjs.js","mtime":1557296864520},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/vue-loader/lib/index.js","mtime":1557296867190},{"path":"/Users/koro/work/web_my/web_accumulate/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1557296867284}],"contextDependencies":[],"result":["\n<div class=\"content\"><h1 id=\"判断用户浏览器\"><a class=\"header-anchor\" href=\"#判断用户浏览器\" aria-hidden=\"true\">#</a> 判断用户浏览器</h1>\n<h3 id=\"navigator-useragent\"><a class=\"header-anchor\" href=\"#navigator-useragent\" aria-hidden=\"true\">#</a> navigator.userAgent</h3>\n<p>判断用户所使用的浏览器主要用到的 api 是<a href=\"http://www.w3school.com.cn/htmldom/prop_nav_useragent.asp\" target=\"_blank\" rel=\"noopener noreferrer\">navigator.userAgent<OutboundLink/></a>，这是一个只读的字符串，声明了浏览器用于 HTTP 请求的用户代理头的值，<strong>不同浏览器的<code>userAgent</code>值都不相同，所以我们可以根据这个字符串来判断用户是从哪个浏览器进入</strong>。</p>\n<h3 id=\"判断方式：\"><a class=\"header-anchor\" href=\"#判断方式：\" aria-hidden=\"true\">#</a> 判断方式：</h3>\n<p>下面两个是刚做的 demo 获取的值，仔细观察下面两个字符串，会发现有些值是不一样的，并且浏览器特有的，依据这个我们就可以作为不同浏览器的判断条件。</p>\n<h4 id=\"qq-内置浏览器的-useragent-值：\"><a class=\"header-anchor\" href=\"#qq-内置浏览器的-useragent-值：\" aria-hidden=\"true\">#</a> QQ 内置浏览器的 userAgent 值：</h4>\n<p>mozilla/5.0 (iphone; cpu iphone os 11_1_2 like mac os x) applewebkit/604.3.5 (khtml, like gecko) mobile/15b202 qq/7.5.8.422 v1_iph_sq_7.5.8_1_app_a pixel/1080 core/uiwebview device/apple(iphone 8plus) nettype/wifi qbwebviewtype/1</p>\n<h4 id=\"微信内置浏览器的-useragent-值：\"><a class=\"header-anchor\" href=\"#微信内置浏览器的-useragent-值：\" aria-hidden=\"true\">#</a> 微信内置浏览器的 userAgent 值：</h4>\n<p>mozilla/5.0 (iphone; cpu iphone os 11_1_2 like mac os x) applewebkit/604.3.5 (khtml, like gecko) mobile/15b202 micromessenger/6.6.6 nettype/wifi language/zh_cn</p>\n<h3 id=\"示例-判断qq和微信内置浏览器\"><a class=\"header-anchor\" href=\"#示例-判断qq和微信内置浏览器\" aria-hidden=\"true\">#</a> 示例:判断QQ和微信内置浏览器</h3>\n<p>使用方式，直接使用这个 api 读取值，然后<strong>根据事先观察<code>userAgent</code>字符串的不同之处</strong>来判断：</p>\n<!--beforebegin--><div class=\"language-js line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-js\"><code><span class=\"token keyword\">let</span> url <span class=\"token operator\">=</span> navigator<span class=\"token punctuation\">.</span>userAgent<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//使用toLowerCase将字符串全部转为小写 方便我们判断使用</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'15b202 qq'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//单独判断QQ内置浏览器</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'QQ APP 内置浏览器，做你想做的操作'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'micromessenger'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//单独判断微信内置浏览器</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'微信内置浏览器，做你想做的操作'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'15b202'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//判断微信内置浏览器，QQ内置浏览器</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'QQ和微信内置浏览器，做你想做的操作'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br></div><!--beforeend--></div><!--afterend--><p>上面判断了微信和 QQ 的内置浏览器，如果有更多不同的需求的话，可以按照上面的方式，先获取<code>userAgent</code>的字符串，然后再根据观察，使用<code>indexOf</code>判断是否含有指定的字符，来对不同浏览器进行不同的操作。</p>\n<p>以上2018.5.5</p>\n</div>\n",null]}